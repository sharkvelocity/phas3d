(()=>{"use strict";var __webpack_modules__={841:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>getPlaygroundId,y:()=>loadPlayground});const SnippetUrl="https://snippet.babylonjs.com/",PgRoot="https://playground.babylonjs.com",loadPlayground=async playgroundId=>{const data=await fetch(SnippetUrl+playgroundId.replace(/#/g,"/")),snippet=await data.json();let code=JSON.parse(snippet.jsonPayload).code.toString();code=code.replace(/\/textures\//g,PgRoot+"/textures/").replace(/"textures\//g,'"'+PgRoot+"/textures/").replace(/\/scenes\//g,PgRoot+"/scenes/").replace(/"scenes\//g,'"'+PgRoot+"/scenes/").replace(/"\.\.\/\.\.https/g,'"https').replace("http://","https://");const createSceneFunction=code.indexOf("delayCreateScene")>-1?"delayCreateScene":"createScene",loadedScene=eval(`${code};${createSceneFunction}(engine);`);return loadedScene.then?await loadedScene:loadedScene},getPlaygroundId=()=>location.hash?location.hash.substring(1):location.href.indexOf("pg=")>-1?location.href.split("pg=")[1]:""}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var __webpack_exports__={},playground=__webpack_require__(841);const createScene=function(e,n){e.enableOfflineSupport=!1,BABYLON.Animation.AllowMatricesInterpolation=!0;const t=new BABYLON.Scene(e),o=new BABYLON.ArcRotateCamera("camera1",Math.PI/2,Math.PI/4,3,new BABYLON.Vector3(0,1,0),t);o.attachControl(n,!0),o.lowerRadiusLimit=2,o.upperRadiusLimit=10,o.wheelDeltaPercentage=.01;const a=new BABYLON.HemisphericLight("light1",new BABYLON.Vector3(0,1,0),t);a.intensity=.6,a.specular=BABYLON.Color3.Black();const r=new BABYLON.DirectionalLight("dir01",new BABYLON.Vector3(0,-.5,-1),t);r.position=new BABYLON.Vector3(0,5,5);const i=new BABYLON.ShadowGenerator(1024,r);return i.useBlurExponentialShadowMap=!0,i.blurKernel=32,e.displayLoadingUI(),BABYLON.SceneLoader.ImportMesh("","https://playground.babylonjs.com/scenes/","dummy3.babylon",t,(function(n,o,a){const r=a[0];i.addShadowCaster(t.meshes[0],!0);for(let e=0;e<n.length;e++)n[e].receiveShadows=!1;const c=t.createDefaultEnvironment({enableGroundShadow:!0});c.setMainColor(BABYLON.Color3.Gray()),c.ground.position.y+=.01,r.animationPropertiesOverride=new BABYLON.AnimationPropertiesOverride,r.animationPropertiesOverride.enableBlending=!0,r.animationPropertiesOverride.blendingSpeed=.05,r.animationPropertiesOverride.loopMode=1;const d=r.getAnimationRange("YBot_Idle"),s=r.getAnimationRange("YBot_Walk"),l=r.getAnimationRange("YBot_Run"),p=r.getAnimationRange("YBot_LeftStrafeWalk"),g=r.getAnimationRange("YBot_RightStrafeWalk");d&&t.beginAnimation(r,d.from,d.to,!0);const u=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI"),_=new BABYLON.GUI.StackPanel;_.width="220px",_.fontSize="14px",_.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT,_.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER,u.addControl(_);const h=BABYLON.GUI.Button.CreateSimpleButton("but1","Play Idle");h.paddingTop="10px",h.width="100px",h.height="50px",h.color="white",h.background="green",h.onPointerDownObservable.add((()=>{d&&t.beginAnimation(r,d.from,d.to,!0)})),_.addControl(h);let w=BABYLON.GUI.Button.CreateSimpleButton("but2","Play Walk");w.paddingTop="10px",w.width="100px",w.height="50px",w.color="white",w.background="green",w.onPointerDownObservable.add((()=>{s&&t.beginAnimation(r,s.from,s.to,!0)})),_.addControl(w),w=BABYLON.GUI.Button.CreateSimpleButton("but3","Play Run"),w.paddingTop="10px",w.width="100px",w.height="50px",w.color="white",w.background="green",w.onPointerDownObservable.add((()=>{l&&t.beginAnimation(r,l.from,l.to,!0)})),_.addControl(w),w=BABYLON.GUI.Button.CreateSimpleButton("but4","Play Left"),w.paddingTop="10px",w.width="100px",w.height="50px",w.color="white",w.background="green",w.onPointerDownObservable.add((()=>{p&&t.beginAnimation(r,p.from,p.to,!0)})),_.addControl(w),w=BABYLON.GUI.Button.CreateSimpleButton("but5","Play Right"),w.paddingTop="10px",w.width="100px",w.height="50px",w.color="white",w.background="green",w.onPointerDownObservable.add((()=>{g&&t.beginAnimation(r,g.from,g.to,!0)})),_.addControl(w),w=BABYLON.GUI.Button.CreateSimpleButton("but6","Play Blend"),w.paddingTop="10px",w.width="100px",w.height="50px",w.color="white",w.background="green",w.onPointerDownObservable.add((()=>{if(s&&p){t.stopAnimation(r);const e=t.beginWeightedAnimation(r,s.from,s.to,.5,!0),n=t.beginWeightedAnimation(r,p.from,p.to,.5,!0);e.syncWith(null),n.syncWith(e)}})),_.addControl(w),e.hideLoadingUI()})),t},createEngine=()=>{const e=document.getElementById("babylon-canvas");return new BABYLON.Engine(e,!0,{preserveDrawingBuffer:!0,stencil:!0})},canvas=document.getElementById("babylon-canvas");let engine,scene;const resize=()=>{engine&&engine.resize()},openInspector=e=>{85===e.keyCode&&e.shiftKey&&(e.ctrlKey||e.metaKey)&&scene&&scene.debugLayer.show()},runScene=async()=>{try{await Recast()}catch(e){}const e=(0,playground.t)();engine&&(engine.dispose(),engine=void 0);const n=createEngine();if(engine=n.then?await n:n,e)window.engine=engine,window.canvas=canvas,scene=await(0,playground.y)(e);else{const e=createScene(engine,canvas);scene=e.then?await e:e}if(window.addEventListener("resize",resize),window.addEventListener("hashchange",runScene),window.addEventListener("keydown",openInspector),scene.onDisposeObservable.add((()=>{window.removeEventListener("resize",resize),window.removeEventListener("hashchange",runScene),window.removeEventListener("keydown",openInspector)})),"undefined"!=typeof process&&"true"===process.env.VIS_TEST_MODE){let e=1;scene.useConstantAnimationDeltaTime=!0,scene.executeWhenReady((function(){scene&&engine&&(scene.activeCamera&&scene.activeCamera.useAutoRotationBehavior&&(scene.activeCamera.useAutoRotationBehavior=!1),engine.runRenderLoop((function(){try{0===e?engine&&engine.stopRenderLoop():(scene&&scene.render(),e--)}catch(e){return engine&&engine.stopRenderLoop(),void console.error(e)}})))}),!0)}else engine.runRenderLoop((function(){(scene.activeCamera||scene.activeCameras&&scene.activeCameras.length>0)&&scene.render()}))};runScene(),console.log("Open the inspector using Ctrl+Shift+U (or Command+Shift+U on Mac)")})();
//# sourceMappingURL=sceneJs.js.map